<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Fractals</title>
  </head>
  <body>
    <canvas width="500" height="500" id="canvas"></canvas>
    <script>
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');

      const shape = [
        { x: 250, y:0 },
        { x:500, y:200 },
        { x:420, y:500 },
        { x:80, y:500 },
        { x:0, y:200 },
      ];

      let point = {
        x: Math.round(Math.random() * 500),
        y: Math.round(Math.random() * 500),
      };

      let count = 0;
      let previousRand = null;

      while (count < 15000) {
        let currentRand = Math.floor(Math.random() * shape.length);

        if ((previousRand + 1) % 5 !== currentRand && (previousRand + 4) % 5 !== currentRand) {
          previousRand = currentRand; 

          let corner = shape[currentRand];
          point.x = (point.x + corner.x) / 2;
          point.y = (point.y + corner.y) / 2;
          ctx.fillRect(point.x, point.y, 1, 1);
          count++;
        }
      }
    </script>
  </body>
</html>